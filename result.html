<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>丝之歌完成度</title>
    <link rel="stylesheet" href="http://127.0.0.1:12332/x/static/index.css" />
    <script src="http://127.0.0.1:12332/x/static/vue.global.prod.js"></script>
    <script src="http://127.0.0.1:12332/x/static/index.full.min.js"></script>
    <style>
        .el-table .danger-row {
            --el-table-tr-bg-color: var(--el-color-danger-light-7);
        }
        .el-table .warning-row {
            --el-table-tr-bg-color: var(--el-color-warning-light-7);
        }
        .el-table .success-row {
            --el-table-tr-bg-color: var(--el-color-success-light-7);
        }
    </style>
</head>

<body>
<div id="app" style="display: flex; flex-direction: column; align-items: center; min-height: 100vh;">
    <el-text size="small">感谢计时器生成器交流群的群友们热心提供存档，协助开发。代码仓库：<a href="https://github.com/CuteReimu/ss-completion" rel="noopener noreferrer" target="_blank">https://github.com/CuteReimu/ss-completion</a></el-text>
    <el-text size="large">完成度：{{"{{"}}completion{{"}}"}}%</el-text>
    <template v-for="itemAndName in data" :key="itemAndName.type">
        <h2>{{"{{"}}itemAndName.type{{"}}"}}</h2>
        <el-table :show-header="false" border :data="itemAndName.dataList" style="width: 50%" :row-class-name="determineRowClass">
            <el-table-column prop="name" label="名称">
            </el-table-column>
            <el-table-column prop="resStr" label="状态" width="80">
            </el-table-column>
        </el-table>
    </template>
</div>

<script>
    const { createApp } = Vue;
    const app = createApp({
        data() {
            return {{.Data}};
        },
        methods: {
            determineRowClass({row}) {
                if (row.completed) {
                    return 'success-row';
                }
                return row.resStr.startsWith("0") || row.resStr.startsWith("未") ? 'danger-row' : 'warning-row';
            }
        },
    });
    app.use(ElementPlus);
    app.mount('#app');
</script>
</body>
</html>